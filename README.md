# Getting Set Up

* Install Ruby 2.5
* Install NodeJS (latest)
* Install Yarn
* Install PostgreSQL v9.5+
* In PostgreSQL, and set up a user locally and put that in secret.yml
* Create a config/secrets.yml based on config/secrets.default.yml. Follow the comments

```
  $ yarn install
  $ bundle install
  $ rails db:setup
  $ rails data:chromium
  $ rails server
```

# Finding useful commands

To find out useful commands for working with data:

`$ rails -T`

# Rebuild the database

If `db/schema.rb` has changed recently, you'll need to rebuild the database:

`$ rails schema:load`

# Reload the production data

To load the production data from Chromium and HTTPD:

`$ rails data:all`

This is the equivalent of running:

`$ rails data:clear data:chromium data:httpd data:writing`

To skip the clone from github,

`$ rails data:chromium:nogit`
`$ rails data:httpd:nogit`

# Useful commands:

```
$ rails server
$ rails console
```

# The CWE csv file

To download a copy of the CWE csv file, go to https://cwe.mitre.org/data/downloads.html and download
the latest Research Concepts csv listed under 'Navigate CWE'.

Place the csv file in lib/taggers/resources/cwes.csv

On line 677 of the file, near the end of the line, change the double quotes around `"<script"` to single quotes `'script'`
