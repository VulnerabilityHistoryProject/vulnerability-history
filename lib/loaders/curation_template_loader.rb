class CurationTemplateLoader
    def initialize(vuln_git_dir)
        @repo_path = vuln_git_dir
    end
    def load_data(repo_path)
        #that loads up the YMLs and save them in the json attribute in projects 
        Dir["#{@repo_path}/templates/*.yml"].each do |file|
            yml = File.open(file) { |f| YAML.load(f) } #hash all data in yml
            project = Project.find_by(subdomain: yml['subdomain']) # find specifc project i.e. chromium / django etc 
            project.update(curation_template: yml.to_json) # updates the curation_template entry with yml to json 
            project.save! #saves data 
        end
    end
end 