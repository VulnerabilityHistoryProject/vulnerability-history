class ReleaseEvents
  def generate
    Release.all.each do |release|
      Event.create!(
        detail: release,
        style: style,
        title_template: ':title:',
        description_template: <<-EOS
           Major release.

           <p>
             <b>Javascript Engine: :notes~js_eng:</b>
           </p>

           <p>
             <b>Renderer: :notes~browser_eng:</b>
           </p>

           <p>
             Significant changes:
             <blockquote>
             :notes~notes:
             </blockquote>
           </p>

           Release information taken from <a href="https://en.wikipedia.org/wiki/Google_Chrome_version_history">Wikipedia</a>.
        EOS
      )
    end
  end

  def style
    @style ||= Style.find_or_create_by!(
      name: 'release',
      icon: 'stars',
      color: '#D270CA',
    )
  end
end
