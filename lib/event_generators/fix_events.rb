class FixEvents

  def generate
    Fix.all.each do |fix|
      Event.create!(
        detail: fix,
        style: style,
        title_template: ':title:',
        description_template: <<-EOS
           Vulnerability was fixed in this commit. Commit message:

          :description:
        EOS
      )
    end
  end

  def style
    @style ||= Style.find_or_create_by!(
      name: 'fix',
      icon: 'build',
      color: '#6FD56E',
    )
  end

end
