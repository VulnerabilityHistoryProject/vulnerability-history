desc 'Clear the database. Be CAREFUL!!'
namespace 'data' do
  task :clear => :environment do
    puts "Clearing data..."
    ActiveRecord::Base.connection.execute "TRUNCATE commit_filepaths RESTART IDENTITY"
    ActiveRecord::Base.connection.execute "TRUNCATE commits RESTART IDENTITY"
    ActiveRecord::Base.connection.execute "TRUNCATE developers RESTART IDENTITY"
    ActiveRecord::Base.connection.execute "TRUNCATE events RESTART IDENTITY"
    ActiveRecord::Base.connection.execute "TRUNCATE filepaths RESTART IDENTITY"
    ActiveRecord::Base.connection.execute "TRUNCATE fixes RESTART IDENTITY"
    ActiveRecord::Base.connection.execute "TRUNCATE releases RESTART IDENTITY"
    ActiveRecord::Base.connection.execute "TRUNCATE styles RESTART IDENTITY"
    ActiveRecord::Base.connection.execute "TRUNCATE tags RESTART IDENTITY"
    ActiveRecord::Base.connection.execute "TRUNCATE vccs RESTART IDENTITY"
    ActiveRecord::Base.connection.execute "TRUNCATE vulnerabilities RESTART IDENTITY"
    ActiveRecord::Base.connection.execute "TRUNCATE vulnerability_tags RESTART IDENTITY"
  end
end
