# This file should contain all the record creation needed to seed the database with its default values.
# The data can then be loaded with the rails db:seed command (or created alongside the database with db:setup).
#
# Examples:
#
#   movies = Movie.create([{ name: 'Star Wars' }, { name: 'Lord of the Rings' }])
#   Character.create(name: 'Luke', movie: movies.first)

EventStyle.create(event_type: 'vulnerability', color: '#ED6049', icon: '')
EventStyle.create(event_type: 'fix', color: '#6FD56E', icon: '')
EventStyle.create(event_type: 'vcc', color: '#F3A23A', icon: '')
EventStyle.create(event_type: 'release', color: '#D270CA', icon: '')
EventStyle.create(event_type: 'commit_filepath', color: '#6AA5E5', icon: '')

notes = {
  bounty_title: 'Bounty awarded',
  bounty: 21337.0,
  bounty_announced: '1984-05-19',
}

prng = Random.new(1234)
100.times do |i|
  notes["something_#{i}"] = prng.rand(32.years).seconds.ago
end

v = Vulnerability.create(cve: 'CVE-1984-0519', announced: '2013-03-02'.to_datetime, notes: notes)

Event.create(detail: v,
  type_template: 'bounty',
  notes_query_title: 'bounty_title',
  notes_query_description: 'bounty',
  notes_query_date: 'bounty_announced',
  )

100.times do | i |
  Event.create(detail: v,
    title_template: "The #{i.ordinalize} event for :title:",
    description_template: 'This is a description of :title:.',
    notes_query_date: "something_#{i}"
  )
end
