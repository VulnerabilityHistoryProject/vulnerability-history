@import "foundation_config/_settings.scss";

.vulnerability-show {
  .curation-wizard-link{
    border-radius: 1em;
    text-decoration: none!important;
    padding: 10px 20px;
    font-size: 1em;
    font-family: $font-family-monospace;
    font-weight: 700;
  }
  .top-section {
    // min-height: 100vh;
    gap: 1.5rem;
    background-image: image-url("stacked-waves-light.png");
    background-size: cover;
    background-repeat: no-repeat;
    padding: 3% 0;
   .upvote_box {
     margin: 0 auto;
     a {
       display: flex;
       align-items: baseline;
       justify-content: space-between;
       gap: .5rem;
       text-decoration: none;
       border-bottom: none;
     }
   }
    .description_box {
      padding-top: 1rem;
      padding-bottom: 1rem;
      padding-left: 1rem;
      padding-right: 1rem;
      border-radius: 5px;
      box-shadow: $box-shadow;

      background-color: #ffffff;
      padding: 3% 7%;
    }
    ul.tag_list {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin: 0;
      li.vhp-pill {
        list-style: none;
        text-align: center;
        a {
          display: flex;
          align-items: center;
          gap: 5px;
          padding-left: 0.4em;
          padding-right: 0.4em;
          margin-left: 0.15em;
          margin-right: 0.15em;
          color: black;
          text-decoration: none;
        }
    
        a:hover{
          color: $vhp-color;
          font-weight: normal;
        }
      }
      i {
        font-size: 140%;
      }
    }
    ul.tabs {
      li {
        flex: 1 1 auto;
        justify-content: center;
      }
    }
    select.tabs {
      background-image: image-url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='22' height='23' viewBox='0 0 22 23' fill='none'%3E%3Cpath d='M11 5.84416L13.255 8.09916C13.6125 8.45666 14.19 8.45666 14.5475 8.09916C14.905 7.74166 14.905 7.16416 14.5475 6.80666L11.6417 3.89166C11.2842 3.53416 10.7067 3.53416 10.3492 3.89166L7.44333 6.80666C7.08583 7.16416 7.08583 7.74166 7.44333 8.09916C7.80083 8.45666 8.37833 8.45666 8.73583 8.09916L11 5.84416ZM11 17.1558L8.74499 14.9008C8.38749 14.5433 7.80999 14.5433 7.45249 14.9008C7.09499 15.2583 7.09499 15.8358 7.45249 16.1933L10.3583 19.1083C10.7158 19.4658 11.2933 19.4658 11.6508 19.1083L14.5567 16.2025C14.9142 15.845 14.9142 15.2675 14.5567 14.91C14.1992 14.5525 13.6217 14.5525 13.2642 14.91L11 17.1558Z' fill='%230A0A0A'/%3E%3C/svg%3E");
      background-origin: content-box;
      background-position: right -1rem center;
      background-repeat: no-repeat;
      background-size: 9px 6px;
      border-bottom-left-radius: 0;
      border-bottom-right-radius: 0;
      background-color: $bg-light-2;
    }
    .tab-content {
      .tabs-panel {
        max-height: 70vh;
        overflow-y: auto;
        overflow-x: hidden;
        padding: 3% 5%;
        border-top-right-radius: 0;
      }
      &.select-mode {
        border-top-left-radius: 0;
        border-top-right-radius: 0;
      }
      #notes {
        .curator-notes {
          border: 1px solid;
          border-color: $gray-1;
          border-radius: 5px;
          padding: 1px;
          max-height: 40vh;
          overflow-x: auto;
          background: #F8FBFF;
          .CodeRay {
            tbody {
              border: 0;
              > tr:first-of-type {
                display: flex;
              }
              .line-numbers > pre {
                a,strong {
                  line-height: 1;
                }
              }
            }
          }
        }
      }
      #articles {
        .vhp-articles {
          h3 {
            margin-top: 0;
            a {
              line-height: 1;
            }
          }
        }
      }
      #curate {
        p:not(.text-center) {
          margin-bottom: 40px;
        }
        .text-center a {
          margin-bottom: 0;
        }
      }
    }
  }
  .horizontal-timeline {
    background-color: $bg-light-2;
    box-shadow: $box-shadow;
    padding: 5% 0;
    .htimeline_filter {
      label {
        background-color: unset;
      }
    }

    #hTimeline {
      #htimeline-xaxis {
        > .x.axis {
          > path.domain,
          g.tick {
            translate: 0px -20px;
          }
        }
        .project-events {
          rect {
            height: 20px;
          }
        }
      }
    }

    #zoom-dropdown {
      background-image: image-url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='22' height='23' viewBox='0 0 22 23' fill='none'%3E%3Cpath d='M11 5.84416L13.255 8.09916C13.6125 8.45666 14.19 8.45666 14.5475 8.09916C14.905 7.74166 14.905 7.16416 14.5475 6.80666L11.6417 3.89166C11.2842 3.53416 10.7067 3.53416 10.3492 3.89166L7.44333 6.80666C7.08583 7.16416 7.08583 7.74166 7.44333 8.09916C7.80083 8.45666 8.37833 8.45666 8.73583 8.09916L11 5.84416ZM11 17.1558L8.74499 14.9008C8.38749 14.5433 7.80999 14.5433 7.45249 14.9008C7.09499 15.2583 7.09499 15.8358 7.45249 16.1933L10.3583 19.1083C10.7158 19.4658 11.2933 19.4658 11.6508 19.1083L14.5567 16.2025C14.9142 15.845 14.9142 15.2675 14.5567 14.91C14.1992 14.5525 13.6217 14.5525 13.2642 14.91L11 17.1558Z' fill='%230A0A0A'/%3E%3C/svg%3E");
      background-origin: content-box;
      background-position: right -1.25rem center;
      background-repeat: no-repeat;
      background-size: auto;
      background-color: $bg-light-3;
    }
  }
}

@mixin dark-mode {
  .vulnerability-show {
    .top-section {
      background-image: image-url("stacked-waves-dark.png");
      .description_box {
        background-color: #32333D99;
      }
      ul.tag_list {
        li.vhp-pill {
          a {
            color: white;
          }
          a:hover{
            color: $vhp-color;
            font-weight: normal;
          }
        }
      }
      select.tabs {
        background-color: $bg-dark-2;
      }
      #notes {
        .curator-notes {
          border-color: $border-light;
          background: $bg-dark-1;
        }
      }
    }

    .horizontal-timeline {
      background-color: #23232C;
      .legend {
        background-color: #E6E6E60D;
      }
      #zoom-dropdown {
        background-image: image-url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='22' height='23' viewBox='0 0 22 23' fill='none'%3E%3Cpath d='M11 5.84416L13.255 8.09916C13.6125 8.45666 14.19 8.45666 14.5475 8.09916C14.905 7.74166 14.905 7.16416 14.5475 6.80666L11.6416 3.89166C11.2841 3.53416 10.7066 3.53416 10.3491 3.89166L7.4433 6.80666C7.0858 7.16416 7.0858 7.74166 7.4433 8.09916C7.8008 8.45666 8.3783 8.45666 8.7358 8.09916L11 5.84416ZM11 17.1558L8.74496 14.9008C8.38746 14.5433 7.80996 14.5433 7.45246 14.9008C7.09496 15.2583 7.09496 15.8358 7.45246 16.1933L10.3583 19.1083C10.7158 19.4658 11.2933 19.4658 11.6508 19.1083L14.5566 16.2025C14.9141 15.845 14.9141 15.2675 14.5566 14.91C14.1991 14.5525 13.6216 14.5525 13.2641 14.91L11 17.1558Z' fill='white'/%3E%3C/svg%3E");
        background-color: $bg-dark-1;
      }
    }

    #vtimeline {
      &::before {
        background: $line-dark;
      }
      .vtimeline-block {
        .vtimeline-content {
          background: $bg-dark-opacity;
        }
        @media screen and (max-width: 1170px) {
          .vtimeline-content {
            background: transparent;
            p {
              font-size: .95rem;
            }
          }
        }
        .vtimeline-date {
          color: $white;
        }
      }
    }
    #vtimeline-sort {
      .vtimeline-sort-select {
        background-color: rgba(230, 230, 230, 0.05);
        background-image: image-url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='22' height='23' viewBox='0 0 22 23' fill='none'%3E%3Cpath d='M11 5.84416L13.255 8.09916C13.6125 8.45666 14.19 8.45666 14.5475 8.09916C14.905 7.74166 14.905 7.16416 14.5475 6.80666L11.6416 3.89166C11.2841 3.53416 10.7066 3.53416 10.3491 3.89166L7.4433 6.80666C7.0858 7.16416 7.0858 7.74166 7.4433 8.09916C7.8008 8.45666 8.3783 8.45666 8.7358 8.09916L11 5.84416ZM11 17.1558L8.74496 14.9008C8.38746 14.5433 7.80996 14.5433 7.45246 14.9008C7.09496 15.2583 7.09496 15.8358 7.45246 16.1933L10.3583 19.1083C10.7158 19.4658 11.2933 19.4658 11.6508 19.1083L14.5566 16.2025C14.9141 15.845 14.9141 15.2675 14.5566 14.91C14.1991 14.5525 13.6216 14.5525 13.2641 14.91L11 17.1558Z' fill='white'/%3E%3C/svg%3E");
      }
    }
  }

  @media screen and (max-width: 640px) {
    .vulnerability-show {
      .top-section {
        select.tabs {
          background-image: image-url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='22' height='23' viewBox='0 0 22 23' fill='none'%3E%3Cpath d='M11 5.84416L13.255 8.09916C13.6125 8.45666 14.19 8.45666 14.5475 8.09916C14.905 7.74166 14.905 7.16416 14.5475 6.80666L11.6416 3.89166C11.2841 3.53416 10.7066 3.53416 10.3491 3.89166L7.4433 6.80666C7.0858 7.16416 7.0858 7.74166 7.4433 8.09916C7.8008 8.45666 8.3783 8.45666 8.7358 8.09916L11 5.84416ZM11 17.1558L8.74496 14.9008C8.38746 14.5433 7.80996 14.5433 7.45246 14.9008C7.09496 15.2583 7.09496 15.8358 7.45246 16.1933L10.3583 19.1083C10.7158 19.4658 11.2933 19.4658 11.6508 19.1083L14.5566 16.2025C14.9141 15.845 14.9141 15.2675 14.5566 14.91C14.1991 14.5525 13.6216 14.5525 13.2641 14.91L11 17.1558Z' fill='white'/%3E%3C/svg%3E");
          background-size: auto;
          option {
            color: white;
          }
        }
      }
    }
  }
}

@media screen and (max-width: 640px) {
  .vulnerability-show {
    .top-section {
      .centered-title {
        margin-top: 20px;
        font-size: 40px;
        .page-subtitle {
          margin-top: 10px;
        }
      }
      .upvote_box {
        margin-bottom: 20px;
      }
      .vulnerability-description {
        margin: 40px 0;
        opacity: 0.7;
      }
      select.tabs {
        font-weight: 600;
        padding: 0 1.5rem;
        background-image: image-url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='22' height='23' viewBox='0 0 22 23' fill='none'%3E%3Cpath d='M11 5.84416L13.255 8.09916C13.6125 8.45666 14.19 8.45666 14.5475 8.09916C14.905 7.74166 14.905 7.16416 14.5475 6.80666L11.6417 3.89166C11.2842 3.53416 10.7067 3.53416 10.3492 3.89166L7.44333 6.80666C7.08583 7.16416 7.08583 7.74166 7.44333 8.09916C7.80083 8.45666 8.37833 8.45666 8.73583 8.09916L11 5.84416ZM11 17.1558L8.74499 14.9008C8.38749 14.5433 7.80999 14.5433 7.45249 14.9008C7.09499 15.2583 7.09499 15.8358 7.45249 16.1933L10.3583 19.1083C10.7158 19.4658 11.2933 19.4658 11.6508 19.1083L14.5567 16.2025C14.9142 15.845 14.9142 15.2675 14.5567 14.91C14.1992 14.5525 13.6217 14.5525 13.2642 14.91L11 17.1558Z' fill='%230A0A0A'/%3E%3C/svg%3E");
        background-size: auto;
      }
    }
  }
}

.dark-mode {
  @include dark-mode;
}