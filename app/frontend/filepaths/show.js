import $ from 'jquery'
import { buildDevPie } from './dev-pie'
import { keyCommitsTable } from './keyCommitsTable'

$( document ).ready( function() {
  console.log(filepath_slug)
  $.ajax({
    url: `/api/filepaths/${filepath_slug}/contributors`,
    dataType: 'json'
  }).done(function(jsonData) {
      buildDevPie(jsonData);
  });

//   $.ajax({
//       url: `/api/filepaths/${filepath_slug}/vulnerabilities`,
//       data: { short_descriptions: true },
//       dataType: 'json'
//   }).done(function(jsonData) {
//       vulnTable(jsonData, '#vulndatatable');
//   });

  $.ajax({
      url: `/api/filepaths/${filepath_slug}/commits`,
      dataType: 'json'
  }).done(function(jsonData) {
      keyCommitsTable(jsonData, '#edit_table')
  });

});
