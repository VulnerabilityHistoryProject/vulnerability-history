import dayjs from 'dayjs'

// // Helps Parse Strings
// var customParseFormat = require('dayjs/plugin/customParseFormat');
// dayjs.extend(customParseFormat);

// Necessary for 'Do' String Format
var advancedFormat = require('dayjs/plugin/advancedFormat');
dayjs.extend(advancedFormat);

// Necessary to get the Week of the Year
var weekOfYear = require('dayjs/plugin/weekOfYear');
dayjs.extend(weekOfYear);

// Necessary for IsSameOrAfter
var isSameOrAfter = require('dayjs/plugin/isSameOrAfter');
dayjs.extend(isSameOrAfter);

export default class SimpleDate {

  constructor(data) {
    console.log(data);
    this.date = dayjs(data);
    // if(format == "") {
    //   this.date = dayjs(data);
    // } else {
    //   this.date = dayjs(data, format);
    // }
    // debugger;
  }

  // ------------------------
  // Used Date Formats in VHP
  // ------------------------

  shortYearFirstDate() {
    return this.date.format('YYYY-MM-DD');
  }

  shortMonthFirstDate() {
    return this.date.format("MM/DD/YYYY");
  }

  longPlainDate() {
    return this.date.format('MMMM DD, YYYY');
  }

  longOrdinalDateTime() {
    var x = this.date.format('MMMM Do YYYY, h:mm a');
    return this.date.format('MMMM Do YYYY, h:mm a'); 
  }

  longOrdinalDate() {
    return this.date.format('MMMM Do, YYYY');
  }
  
  // ---------------
  // Wrapper Methods
  // ---------------

  getWeekOfYear() {
    return this.date.week();
  }

  getDayOfMonth() {
    return this.date.date();
  }

  getYear() {
    return this.date.year();
  }

  setMonth(num) {
    this.date.month(num);
  }

  setDayOfMonth(num) {
    this.date.date(num);
  }
 
  isDateSameOrAfer(simple_date) {
    if(simple_date instanceof SimpleDate) {
      return this.date.isSameOrAfer(simple_date);
    }
  }

  getLargerDate(simple_date) {
    return this.date > simple_date ? this.date : simple_date; 
  }

  getSmallerDate(simple_date) {
    return this.date < simple_date ? this.date : simple_date;
  }

  addTime(number, significance) {
    this.date.add(number, significance);
  }

  getJSDate() {
    return this.date.toDate();
  }
}
