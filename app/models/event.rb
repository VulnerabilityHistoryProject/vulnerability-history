class Event < ApplicationRecord
  belongs_to :detail, polymorphic: true

  def title
    if notes_query_title.empty?
      detail.title
    else
      detail.notes[notes_query_title]
    end
  end

  def description
    if notes_query_description.empty?
      detail.description
    else
      detail.notes[notes_query_description]
    end
  end

  def date
    if notes_query_date.empty?
      detail.date
    else
      detail.notes[notes_query_date]
    end
  end

  def type
    if notes_query_type.empty?
      detail.type
    else
      detail.notes[notes_query_type]
    end
  end

end
