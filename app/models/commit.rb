class Commit < ApplicationRecord
  has_many :commit_filepaths, primary_key: 'id', foreign_key: 'commit_id'
  belongs_to :developer, primary_key: 'id', foreign_key: 'author_id'
  has_many :filepaths, through: :commit_filepaths
  has_many :vccs, primary_key: 'id', foreign_key: 'commit_id'
  has_many :fixes, primary_key: 'id', foreign_key: 'commit_id'

  validates :commit_hash, :uniqueness => true
end
