class CurateController < ApplicationController

  def index
    num_vulns = Vulnerability.count
    @num_vulns_report = ActiveSupport::NumberHelper.
                         number_to_delimited(num_vulns, :delimiter => ',')
    num_curated = Vulnerability.curated.count
    @perc_curated = 100.0 * num_curated / num_vulns.to_f
    @perc_report = "%.1f%%" % @perc_curated
    num_w_fixes = Fix.select(:vulnerability_id).distinct.count
    @perc_fixes = (100.0 * num_w_fixes / num_vulns.to_f)
    @fix_report = "%.1f%%" % @perc_fixes
    @num_vccs = Vcc.count
    @num_w_vccs = Vcc.select(:vulnerability_id).distinct.count
    @perc_vccs = (100.0 * @num_w_vccs / num_vulns.to_f)
    @vcc_report = "%.1f%%" % @perc_vccs
  end

end
