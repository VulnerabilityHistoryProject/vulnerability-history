class DevelopersController < ApplicationController
  before_action :set_developer, only: [:show]

  # GET /developers
  # GET /api/developers
  def index
    @developers = Developer.all
    render_json_for_api @developers
  end

  # GET /developers/1
  # GET /api/developers/1
  def show
    render_json_for_api @developer
    @commits = @developer.commits
  end

  def commits
    render_json_for_api Developer.find(params[:developer_id]).commits
  end

  private
    # Use callbacks to share common setup or constraints between actions.
    def set_developer
      @developer = Developer.find(params[:id])
    end

    # Never trust parameters from the scary internet, only allow the white list through.
    def developer_params
      params.fetch(:developer, {})
    end
end
