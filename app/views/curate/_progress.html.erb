
<%= render('shared/grid', size: 8) do %>

<h2>Curation Progress</h2>

<ul class="project-select dropdown menu align-center"
    id="#project-progress"
    data-dropdown-menu>
  <li class="has-submenu is-dropdown-submenu-parent" >
    <a href="#" draggable="false" class="project-select-active">
      <i class="vhp-icon-vulnerability"></i> All Projects</a>
    <ul class="submenu" data-submenu>
      <li>
        <a href="#" data-project="0" class="project-choice">
          <i class="vhp-icon-vulnerability"></i> All Projects
        </a>
      </li>
    <% @projects.each do |p| %>
      <li><a href="#" data-project="<%= p.id %>" class="project-choice">
            <img class="<%= p.subdomain %>-inline-logo" title="<%= p.name %>">
            <%= p.name%>
         </a>
      </li>
    <% end %>
    </ul>
  </li>
</ul>

  <p>
    The data set for this project is usable at any time, and has been used in academic literature.
  </p>
<% end %>

<div class="grid-x">
  <div class="cell small-4 small-offset-2 ">
    <span class="progress-header">Known Vulnerabilities</span>
  </div>

  <div class="cell small-4">
    <span class="progress-number"><%= @num_vulns_report %></span>
  </div>
</div>

<%= render('shared/grid', size: 8) do %>
  <p>
    This the current number of historical vulnerabilities that this project knows about.
  </p>
<% end %>

<div class="grid-x">

  <div class="cell small-4 small-offset-2 ">
    <span class="progress-header">Manually Curated</span>
  </div>

  <div class="cell small-4">
    <div class="progress"
         role="progressbar"
         aria-valuenow="<%= @perc_curated %>"
         aria-valuemin="0"
         aria-valuemax="100"
         aria-valuetext="<%= @perc_report %>">
      <span class="progress-meter progress-color" style="width: <%= @perc_curated %>%">
         <p class="progress-meter-text"><%= @perc_report %></p>
      </span>
    </div>
  </div>

</div>

<%= render('shared/grid', size: 8) do %>
  <p>
    These are the vulnerabilities that have received a curator's attention. Curation is assigned at random so that this population is representative of the whole.
  </p>
<% end %>

<div class="grid-x">

  <div class="cell small-4 small-offset-2 ">
    <span class="progress-header">Vulnerabilities with Fixes</span>
  </div>

  <div class="cell small-4">
    <div class="progress"
         role="progressbar"
         aria-valuenow="<%= @perc_fixes %>"
         aria-valuemin="0"
         aria-valuemax="100"
         aria-valuetext="<%= @fix_report %>">
      <span class="progress-meter progress-color" style="width: <%= @perc_fixes %>%">
         <p class="progress-meter-text"><%= @fix_report %></p>
      </span>
    </div>
  </div>

</div>

<%= render('shared/grid', size: 8) do %>
  <p>
    Vulnerability fixes are first automatically identified by parsing the CVE entries and scraping any relevent links to bug reports.
  </p>
<% end %>

<div class="grid-x">
  <div class="cell small-4 small-offset-2 ">
    <span class="progress-header">VCCs Found</span>
  </div>

    <div class="cell small-4">
      <%= render 'blockily', num: @num_vccs %>
    </div>
</div>

<%= render('shared/grid', size: 8) do %>
  <p>
    A vulnerability-contributing commit (VCC) is a commit that has been tagged as a likely origin of a vulnerability.
  </p>
<% end %>

<div class="grid-x">

  <div class="cell small-4 small-offset-2 ">
    <span class="progress-header">Vulnerabilities with VCCs</span>
  </div>

  <div class="cell small-4">
    <div class="progress"
         role="progressbar"
         aria-valuenow="<%= @perc_vccs %>"
         aria-valuemin="0"
         aria-valuemax="100"
         aria-valuetext="<%= @vcc_report %>">
      <span class="progress-meter progress-color" style="width: <%= @perc_vccs %>%">
         <p class="progress-meter-text"><%= @vcc_report %></p>
      </span>
    </div>
  </div>

</div>

<%= render('shared/grid', size: 8) do %>
  <p>
    VCCs are typically found manually, with some automated techniques.
  </p>
<% end %>
