require 'test_helper'
require 'taggers/discovery_tagger'

class DiscoveryTagTest < ActiveSupport::TestCase

  test 'Discovery tags created' do
    t = DiscoveryTagger.new
    tags = Tag.all.pluck(:shortname)
    assert(tags.include?('discover-automated'), "discover-automated exists")
    tags = Tag.all.pluck(:shortname)
    assert(tags.include?('internal'), "discover-internally exists")
    family = Tag.all.pluck(:family)
    assert(family.include?('discovered_by'), "Family discovered_by is present")
    family = Tag.all.pluck(:family)
    assert(family.include?('discovered_method'), "Family discovered_method is present")
  end
end