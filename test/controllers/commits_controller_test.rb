require 'test_helper'

class CommitsControllerTest < ActionDispatch::IntegrationTest

    test 'Checks basic route functionality' do
      assert_generates '/commits', controller: 'commits', action: 'index'
      assert_routing '/commits', controller: 'commits', action: 'index'
      assert_recognizes({controller: 'commits', action: 'index'}, 'commits')
    end

    test 'Checks show functionality' do
      assert_generates '/commits/cfebb479b8e2498f63912c095fe57d84576bcfcf', controller: 'commits', action: 'show'
      assert_routing '/commits/cfeebb479', controller: 'commits', action: 'show'
      assert_recognizes({controller: 'filepaths', action: 'show'}, "/commits/488")
    end

    test 'Bad ID redirects' do
      get '/commits/0000'
      assert_redirected_to "/commits"
    end

    test 'Bad commit hash redirects' do
      get '/commits/invalid1210392commithash'
      assert_redirected_to "/commits"
    end



end
