require "application_system_test_case"

class ContentTest < ApplicationSystemTestCase
  setup do
    Capybara.app_host = "https://alpha.vulnerabilityhistory.org"
    Capybara.run_server = false

    @start = '/projects'
    Rails.cache.clear
  end

  test 'Case Studies title' do
    visit @start
    gc = find('.grid-container')

    assert gc.text.include? 'Case Studies'
  end

  test 'Project titles' do
    visit @start
    gc = find('.grid-container')

    assert gc.text.include? 'Chromium Browser'
    assert gc.text.include? 'Django'
    assert gc.text.include? 'FFmpeg'
    assert gc.text.include? 'Apache HTTPD Web Server'
    assert gc.text.include? 'Linux Kernel'
    assert gc.text.include? 'Apache Struts'
    assert gc.text.include? 'systemd'
    assert gc.text.include? 'Apache Tomcat'
  end
end
