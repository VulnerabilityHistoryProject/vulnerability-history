import articleListing from "../../../app/frontend/global/articleListing"
import articleListingOneSize from "../../../app/frontend/global/articleListing"
import $ from 'jquery'


const articles = [
    {
        art: "snowflake",
        author: "Andy Meneely",
        blurb: "Don't just think about code complexity, think about *input* complexity.↵↵Computers only understand numbers,",
        cves: [null],
        filepaths: [],
        fulltext: "↵The full text of this article can be found at the [:tag: Complex Inputs](/tags/complex-inputs) tag page.↵",
        id: 1,
        slug: "beware-complex-inputs",
        title: "Beware of complex inputs"
    },
    {
        art: "question",
        author: "Andy Meneely",
        blurb: "Why do we talk about things that have not been \"proven\" in research?↵↵Because science is a work in progress.",
        cves: [null],
        filepaths: [],
        fulltext: "↵↵_You can't talk about that, it's not proven!_↵↵If we waited for the evidence to be crystal clear,",
        id: 2,
        slug: "open-questions",
        title: "We Love Open Questions"
    },
    {
        art: "refactor",
        author: "Andy Meneely",
        blurb: "You can't secure it if you can't maintain it.↵↵**Refactoring** is the practice of improving the maintainability",
        cves: [null],
        filepaths: [],
        fulltext: "↵_You can't secure it if you can't maintain it._↵↵A widespread practice, refactoring is useful for improving",
        id: 3,
        slug: "refactoring",
        title: "Always Be Refactoring"
    }
]

// TODO: Issue 826 No Return
// SNAPSHOT
test("Article Listing", () => {
    document.body.innerHTML =
        '<div id="article-listing">' +
            '<div class="blurb-text" cell medium-8"></div>' +
            '<div class="blurb-art" cell medium-3"></div>' +
            '<div class="blurb-text" cell medium-8"></div>' +
            '<div class="blurb-art" cell medium-3"></div>' +
            '<div class="blurb-text" cell medium-8"></div>' +
            '<div class="blurb-art" cell medium-3"></div>' +
        '</div>';
    articleListing(articles, '#article-listing');
    expect($('#article-listing').html()).toMatchSnapshot();
});

test("Display All Articles as One Size", () => {
    document.body.innerHTML =
        '<div id="article-listing-same">' +
            '<div class="blurb-text" cell medium-8"></div>' +
            '<div class="blurb-art" cell medium-3"></div>' +
            '<div class="blurb-text" cell medium-8"></div>' +
            '<div class="blurb-art" cell medium-3"></div>' +
            '<div class="blurb-text" cell medium-8"></div>' +
            '<div class="blurb-art" cell medium-3"></div>' +
        '</div>';
    articleListingOneSize(articles, '#article-listing-same');
    expect($('#article-listing-same').html()).toMatchSnapshot();
});
