require 'test_helper'

class CommitTest < ActiveSupport::TestCase
  test 'fixtures are loaded' do
    assert Commit.any?
  end

  test 'comm fixture data are loaded' do
    assert_equal 'f3e8965444b0b615ed8aabfcacc5840f6684c0c5',
                 commits(:fix1).commit_hash
  end
  test 'checks if there is a developer' do
    assert_equal 'dglazkov@google.com', commits(:fix1).developer.email
  end
  test 'comm has a fix commit' do
    fix_hash = 'f3e8965444b0b615ed8aabfcacc5840f6684c0c5'
    c = commits(:fix1)
    assert_equal fix_hash, c.fixes.first.commit.commit_hash
  end
end
