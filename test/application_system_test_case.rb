require "test_helper"
require "socket"

class ApplicationSystemTestCase < ActionDispatch::SystemTestCase
  driven_by :selenium, using: :chrome, screen_size: [1400, 1400], options: { 
    url: "http://selenium:4444/wd/hub",
    timeout: 240    # byproduct of clearing the cache - allows test to run without timeout error
  }

  def setup
    host! "http://#{IPSocket.getaddress(Socket.gethostname)}"
    super
  end
  
  Capybara.javascript_driver = :selenium_remote
  Capybara.default_driver = :selenium_chrome
  Capybara.server_port = 3005
  Capybara.server_host = '0.0.0.0'
  Capybara.app_host = "http://test:3005"

end
